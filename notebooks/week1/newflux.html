
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>10. Finding the flux given the radiance &#8212; ATSC 301</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/week1/newflux';</script>
    <link rel="canonical" href="https://phaustin.github.io/a301_eoas/notebooks/week1/newflux.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="11. Plotting the Planck function with python" href="planck_function.html" />
    <link rel="prev" title="9. Solid angle and radiance" href="radiance.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">ATSC 301</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    ATSC 301: 2024 Term 2 Winter
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Useful links</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../syllabus.html">ATSC 301: syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrity.html">UBC academic integrity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../texts.html">Texts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignments.html">A301 Assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pixi_install.html">pixi install for macos and windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows_install.html">Windows installation using a conda lock file</a></li>
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/drive/folders/1-Ja2wVKVIjkZb7Gx_rfc14J_aBYiknuw?usp=sharing)">Notebook downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook_index.html">code snippets by notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Weekly topics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../week_notes.html">Week notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week_review.html">Weekly review</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Midterm</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../midterm/midterm_focus.html">1. Study topics for midterm</a></li>
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/file/d/1E6Gs6zUARHdEAb2UqIyMnyXj-jCiOiXw/view?usp=drive_link">2025 mid-term equation sheet</a></li>
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/file/d/12ZDN8NZzgafeCMDTy4t0u-w80o3-foNT/view?usp=sharing">2022 mid-term</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewI.html">2. Sample mid-term questions I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewII.html">3. Midterm review questions II</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewI_solutions.html">4. Midterm Solutions: midterm sample questions I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../midterm/mid_term_reviewII_solutions.html">5. Midterm solutions: sample questions II</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/midterm/a301_2024t2_midterm_solution.html">6. A301 midterm solutions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Final</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../solutions/final_guide.html">7. Study guide for final exam</a></li>
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/file/d/17jhwpTbpT21fCBCqhatxccmA_tm8NJD9/view?usp=drive_link">2014 final exam</a></li>
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/file/d/1P--fLrVzcd18l8QSxjjs7YbyMv9889fC/view?usp=drive_link">2022 final exam</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 1</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://www.eoas.ubc.ca/books/Practical_Meteorology/prmet102/Ch02-radiation-v102b.pdf">Stull Chapter 2, pp. 34-43</a></li>
<li class="toctree-l1"><a class="reference internal" href="beers_law.html">8. Beers and inverse squared laws</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gw2jh3xr2c.search.serialssolutions.com/?sid=sersol&amp;SS_jc=TC0000517195&amp;title=Atmospheric%20Science%3A%20An%20Introductory%20Survey">Wallace and Hobbs Chapter 4, pp. 113-118</a></li>
<li class="toctree-l1"><a class="reference internal" href="radiance.html">9. Solid angle and radiance</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">10. Finding the flux given the radiance</a></li>
<li class="toctree-l1"><a class="reference internal" href="planck_function.html">11. Plotting the Planck function with python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 2</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week2/planck_sol.html">12. Plotting the Planck function - solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/assign1.html">13. Assignment 1, brightness temperatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/cartopy_maps.html">14. Introduction to Cartopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/cartopy_mapping_vancouver.html">15. Mapping Vancouver with cartopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week2/get_landsat_bands.html">16. Landsat 1: Dowloading Landsat and Sentinel data from NASA</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 3</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week3/map_landsat.html">17. Mapping the landsat scene</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/assign1_solution.html">18. Assignment 1, brightness temperatures - solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/zoom_landsat.html">19. Zooming an image</a></li>

<li class="toctree-l1"><a class="reference internal" href="../week3/kirchoff.html">21. Kirchoff worksheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week3/optical_depth.html">22. Optical depth and partial transmission</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 4</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week4/clip_bands.html">23. Clipping multiple bands– v0.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week4/optical_depth2.html">24. Optical depth II: mean free path</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign2_solutionsA.html">25. Assignment 2: solutions Part A</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 5</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign4.html">26. Assignment 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign2_solutionsB.html">27. Assignment 2: solutions part B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/rowcol2latlon.html">28. Getting lat,lon from row, column</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/schwartz.html">29. The Schwartzchild Equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/add_palette.html">30. Adding a palette to an axis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign2_solutionsC.html">31. Assignment 2: solutions part C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/hydrostat.html">32. Hydrostatic balance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week5/cartopy_mapping_buenos_aires.html">33. Cartopy mapping Buenos Aires</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 6</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign3_solutions.html">34. Assignment 3: solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/hydrostatic_balance.html">35. Scale heights for typical atmospheric soundings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/weighting_functions.html">36. Weighting functions for temperature retrieval</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/heating_rate.html">37. Finding the heating rate of the atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week6/assign4_two_layer_sol.html">38. Assignment 4 two layer solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign4_solution.html">39. Assignment 4 solutions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 7</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week7/false_color.html">40. Making color composite (“false color”) images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week7/fmask.html">41. Using fmask to mask water pixels</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 8</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week8/install_part1.html">42. Python packages Part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/goes_true_color.html">43. GOES-16: True Color Images from GOES ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/goes_landsat.html">44. Combining goes and landsat data using rioxarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/goes_landsat_rio.html">45. Combining goes and landsat data using rioxarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign6.html">46. Assignment 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week8/radar.html">47. Notes on the radar equation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 9</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week9/clip_demo.html">48. Clipping issues: What happened to Stanley Park?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/rio_land_classification.html">49. Working with surface class data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/flux_schwartzchild.html">50. Integrating the Schwartzchild equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/diffuse_flux_python.html">51. Calculating the diffuse flux: python code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week9/marshall_palmer.html">52. Notes on the Marshall-Palmer distribution and the Z-RR relation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 10</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign7.html">53. Assignment 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week10/false_color_examples.html">54. Landsat 8 false color examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign6_solution.html">55. Assignment 6 solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week10/phasor.html">56. Phasor examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week10/phaseshift.html">57. phase shift examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/file/d/13rMkduBy7Q68DW5UVXUdkgo48AmbmMDW/view?usp=drive_link">Notes on the Doppler equation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/file/d/1ZQ_uq4SIm_phs9y-doRlhA8uNSwxKv4q/view?usp=drive_link">Slides on the EarthCare mission</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 11</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign5_solution.html">58. Assignment 5 solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week11/demo_rgb_recipes.html">59. GOES ABI RGB Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week11/derived_stability_index.html">60. GOES stability indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week11/plot_earthcare.html">61. Reading earthcare level1b data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week11/earthcare_to_xarray.html">62. Convert earthcare to xarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign7_radar_solution.html">63. Assign7 Radar Problems – solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../week11/phasor_notes.html">64. Notes on phasors</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Week 12</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../week12/goes_earthcare.html">65. goes-earthcare overlay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign8.html">66. Assignment 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/assign7_classification_solution.html">67. Assign7 Classification problem – solution</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/notebooks/week1/newflux.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Finding the flux given the radiance</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#law-of-the-cosine-using-power">10.1. Law of the cosine – using power</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#moving-between-flux-and-radiance">10.2. Moving between flux and radiance</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#two-approximations-to-fluxrel">10.2.1. Two approximations to <code class="xref eq docutils literal notranslate"><span class="pre">fluxrel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#parallel-beam-approximation-w-h-p-116">10.2.1.1. Parallel beam approximation (W&amp;H p. 116)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#isotropic-radiance-f-pi-b">10.2.1.2. Isotropic radiance: <span class="math notranslate nohighlight">\(F = \pi B\)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#worksheet-questions">10.3. Worksheet questions</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="finding-the-flux-given-the-radiance">
<span id="sec-week1-flux-from-radiance"></span><h1><span class="section-number">10. </span>Finding the flux given the radiance<a class="headerlink" href="#finding-the-flux-given-the-radiance" title="Link to this heading">#</a></h1>
<section id="law-of-the-cosine-using-power">
<h2><span class="section-number">10.1. </span>Law of the cosine – using power<a class="headerlink" href="#law-of-the-cosine-using-power" title="Link to this heading">#</a></h2>
<p>Unless the sun is directly overhead, the flux  <span class="math notranslate nohighlight">\(F\)</span> on a level
surface is going to be less than the flux perpendicular to the
solar beam. The figure below shows the geometry:</p>
<figure class="align-default" id="shadow">
<a class="reference internal image-reference" href="../../_images/shadow.png"><img alt="../../_images/shadow.png" src="../../_images/shadow.png" style="width: 584.8499999999999px; height: 306.95px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 10.1 </span><span class="caption-text"><span class="math notranslate nohighlight">\(\cos \theta\)</span> effect</span><a class="headerlink" href="#shadow" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Assuming that the y dimension (into and out of the screen) has unit
length, then if flux <span class="math notranslate nohighlight">\(F_1\)</span> <span class="math notranslate nohighlight">\((W\,m^{-2})\)</span> is incident
on surface 1, power flowing through surface 1 is:</p>
<p><span class="math notranslate nohighlight">\(P_1 = F_1 \times A_1\)</span> Watts</p>
<p>If we assume a direct beam of sunlight (so no inverse-square spreading),
then all of that power passes through surface 2, and so the flux
perpendicular to surface 2 is:</p>
<p><span class="math notranslate nohighlight">\(F_2 = P_1/A_2 = P_1/(A_1 /cos \theta) = F_1 \cos \theta\)</span></p>
<p>This is the main reason why it’s cooler at sunset than at noon. It is
also the reason your shadow can be taller than you.</p>
</section>
<section id="moving-between-flux-and-radiance">
<span id="moving"></span><h2><span class="section-number">10.2. </span>Moving between flux and radiance<a class="headerlink" href="#moving-between-flux-and-radiance" title="Link to this heading">#</a></h2>
<p>We saw in the <a class="reference internal" href="radiance.html#radiance"><span class="std std-ref">Solid angle and radiance</span></a> reading
that in the case that we have a very narrow beam of solid angle <span class="math notranslate nohighlight">\(d\omega\)</span>, the flux and radiance vectors are related by:</p>
<div class="math notranslate nohighlight">
\[
dF_\lambda = I_\lambda d\omega
\]</div>
<p>where we are writing <span class="math notranslate nohighlight">\(dF\)</span> to indicate that you need to integrate this equation over a (possibly imaginary) flat surface to get the flux.  This is just Wallace and Hobbs equation 4.5 without the integral signs, in the particular case that we are looking straight down at the surface, i.e. <span class="math notranslate nohighlight">\(\theta =0\)</span> an <span class="math notranslate nohighlight">\(\cos \theta\)</span> = 1.</p>
<p>A good way to think about this to ask yourself how a satellite would
measure the radiance I in some direction. It would need to:</p>
<ol class="arabic simple">
<li><p>measure the power P reaching its sensor that has area A</p></li>
<li><p>Calculate the flux F= P/A</p></li>
<li><p>Divide that flux by the wavelength range of its filter (say
<span class="math notranslate nohighlight">\(\Delta \lambda = 1\ \mu m\)</span>) to get the monochromatic
flux:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
F_\lambda = \frac{F}{\Delta \lambda}
\]</div>
<ol class="arabic simple" start="4">
<li><p>Multiply the monochromatic radiance by the field of view of the
telescope <span class="math notranslate nohighlight">\(\Delta \omega\)</span> to get the relationship between
the monochromatic irradiance and radiance for a narrow beam:</p></li>
</ol>
<div class="math notranslate nohighlight" id="equation-flrel">
<span class="eqno">(10.1)<a class="headerlink" href="#equation-flrel" title="Link to this equation">#</a></span>\[
F_\lambda = I_\lambda \Delta \omega
\]</div>
<p>Repeating this figure from the <a class="reference internal" href="radiance.html#radiance"><span class="std std-ref">Solid angle and radiance</span></a> reading:</p>
<figure class="align-default" id="i-f">
<a class="reference internal image-reference" href="../../_images/I_F.png"><img alt="../../_images/I_F.png" src="../../_images/I_F.png" style="width: 346.0px; height: 317.0px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 10.2 </span><span class="caption-text">Relationship between I and F</span><a class="headerlink" href="#i-f" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>So how would you calculate the flux F crossing through the bottom
of this triangle if you knew the radiance I at every angle? Now you need
to use the law of the cosines to move from the perpendicular surface
with area <span class="math notranslate nohighlight">\(dA_1\)</span> to the surface you are interested in with larger
area <span class="math notranslate nohighlight">\(dA_2 = dA_1/\cos \theta\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-cosflux">
<span class="eqno">(10.2)<a class="headerlink" href="#equation-cosflux" title="Link to this equation">#</a></span>\[
dF_2 = \cos \theta dF_1 = \cos \theta I d\omega
\]</div>
<p>To get the flux from every angle requires that you integrate over
a hemisphere. That means you need to integrate over all azimuths, so
<span class="math notranslate nohighlight">\(\phi = 0 \to 2\pi\)</span> and over 90 degrees of zenith, so that
<span class="math notranslate nohighlight">\(\theta = 0 \to \pi/2\)</span>, which is done in Wallace and Hobbs exercise 4.3
on page 113:</p>
<div class="math notranslate nohighlight" id="equation-fluxrel">
<span class="eqno">(10.3)<a class="headerlink" href="#equation-fluxrel" title="Link to this equation">#</a></span>\[
F_2 = \int dF_2 = \int_0^{2\pi} \int_0^{\pi/2} \cos \theta \, I \, d \omega =\int_0^{2\pi} \int_0^{\pi/2} I \cos \theta  \sin \theta \, d\theta \, d \phi
\]</div>
<p>Note that you always do this integral over a plane surface containing the sensor.  That is, if you are interested in emission from the earth’s surface, you need to turn <a class="reference internal" href="#i-f"><span class="std std-numref">Fig. 10.2</span></a> upside down, and look downward at the source of the radiation.</p>
<section id="two-approximations-to-fluxrel">
<h3><span class="section-number">10.2.1. </span>Two approximations to <a class="reference internal" href="#equation-fluxrel">(10.3)</a><a class="headerlink" href="#two-approximations-to-fluxrel" title="Link to this heading">#</a></h3>
<p>Equation <a class="reference internal" href="#equation-fluxrel">(10.3)</a> is the formal definition of <span class="math notranslate nohighlight">\(F\)</span> and is always correct.  There are two simplifications that are extremely useful:</p>
<section id="parallel-beam-approximation-w-h-p-116">
<h4><span class="section-number">10.2.1.1. </span>Parallel beam approximation (W&amp;H p. 116)<a class="headerlink" href="#parallel-beam-approximation-w-h-p-116" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[
F=I \times \Delta \omega
\]</div>
<p>This holds when:</p>
<ul class="simple">
<li><p>the <span class="math notranslate nohighlight">\(\Delta \omega\)</span>, the total solid angle of interest is very small, so that <span class="math notranslate nohighlight">\(I\)</span> can be moved out of the integral because it doesn’t vary</p></li>
<li><p>the beam is directly parallel to the surface of interest, so that <span class="math notranslate nohighlight">\(\theta \approx 0\)</span> and <span class="math notranslate nohighlight">\(\cos \theta \approx 1\)</span></p></li>
<li><p>In this case it’s typical that the approximation <span class="math notranslate nohighlight">\(\Delta \omega = A/R^2\)</span> is good enough  (we’ll do a problem on this)</p></li>
</ul>
</section>
<section id="isotropic-radiance-f-pi-b">
<span id="final-form"></span><h4><span class="section-number">10.2.1.2. </span>Isotropic radiance: <span class="math notranslate nohighlight">\(F = \pi B\)</span><a class="headerlink" href="#isotropic-radiance-f-pi-b" title="Link to this heading">#</a></h4>
<p>This is Wallace and Hobbs Exersize 4.3 on page 116.  Here we’re using the WH notation for the Planck function radiance:  the letter <span class="math notranslate nohighlight">\(B\)</span> (<span class="math notranslate nohighlight">\(W\,m^{-2}\,sr^{-1}\)</span>)</p>
<p>A common case in this course is thermal emission or diffuse reflection, which is characterized
by photons coming isotropically from all directions. In the thermal case the
surface emitted radiance <span class="math notranslate nohighlight">\(B^*\)</span> is independent of
<span class="math notranslate nohighlight">\((\phi, \theta)\)</span> and can be taken outside of the integral. With
that simplification, we’re down to trigonometric integrals from first
year calculus:</p>
<div class="math notranslate nohighlight" id="equation-flux-final">
<span class="eqno">(10.4)<a class="headerlink" href="#equation-flux-final" title="Link to this equation">#</a></span>\[
F_2 = F^* = \int_0^{2\pi}\int_0^{\pi/2} B \cos \theta  \sin \theta \, d\theta \, d \phi = 2 \pi B
      \int_0^{\pi/2} \cos \theta  \sin \theta\, d\theta = 2\pi B \left( \frac{1}{2} \right)  = \pi B
\]</div>
<p>where we’ve continued to use an asterisk to denote that this is the
radiation coming from a black surface, immediately above the surface.</p>
<p>More generally if we know <span class="math notranslate nohighlight">\(I\)</span> anywhere in space and know that it
is independent of direction, then the irriadiance at that point is going
to be:</p>
<div class="math notranslate nohighlight" id="equation-flux-short">
<span class="eqno">(10.5)<a class="headerlink" href="#equation-flux-short" title="Link to this equation">#</a></span>\[
F = \pi I
\]</div>
</section>
</section>
</section>
<section id="worksheet-questions">
<h2><span class="section-number">10.3. </span>Worksheet questions<a class="headerlink" href="#worksheet-questions" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Suppose you have a radiometer with a zoom telescope that can focus on 1 <span class="math notranslate nohighlight">\(km^2\)</span> pixel at any distance.   If the surface is emitting radiance <span class="math notranslate nohighlight">\(I\)</span> in all directions into a hemisphere, find both <span class="math notranslate nohighlight">\(F\)</span> and <span class="math notranslate nohighlight">\(I\)</span> at 10 km above the surface, and at 100 km above the surface, assuming you can use the parallel beam.</p></li>
<li><p>In the answer to 1) you should have found that I is independent of distance from the surface. Explain why <a class="reference internal" href="#equation-flux-short">(10.5)</a> doesn’t  violate the inverse square law for flux F.</p></li>
<li><p>Find the solid angle for a 1 <span class="math notranslate nohighlight">\(km^2\)</span> pixel viewed from 800 km, and compare that result to <span class="math notranslate nohighlight">\(Area/R^2\)</span>.</p></li>
<li><p>Change of variables:  Do W&amp;H Exercise 4.13 to prove relationship 4.4</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/week1"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="radiance.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">9. </span>Solid angle and radiance</p>
      </div>
    </a>
    <a class="right-next"
       href="planck_function.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">11. </span>Plotting the Planck function with python</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#law-of-the-cosine-using-power">10.1. Law of the cosine – using power</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#moving-between-flux-and-radiance">10.2. Moving between flux and radiance</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#two-approximations-to-fluxrel">10.2.1. Two approximations to <code class="xref eq docutils literal notranslate"><span class="pre">fluxrel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#parallel-beam-approximation-w-h-p-116">10.2.1.1. Parallel beam approximation (W&amp;H p. 116)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#isotropic-radiance-f-pi-b">10.2.1.2. Isotropic radiance: <span class="math notranslate nohighlight">\(F = \pi B\)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#worksheet-questions">10.3. Worksheet questions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Philip Austin
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>